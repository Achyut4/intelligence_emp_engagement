<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
        <title>Intelligence Employee Engagement</title>
        <meta content="Admin Dashboard" name="description" />
        <meta content="ThemeDesign" name="author" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <link rel="shortcut icon" href="../../static/adminResources/images/favicon.ico">

        <link href="../../static/adminResources/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="../../static/adminResources/css/icons.css" rel="stylesheet" type="text/css">
        <link href="../../static/adminResources/css/style.css" rel="stylesheet" type="text/css">
        <script type="text/javascript">

        function loadRegister() {

            var dataset_DepartmentId = document.getElementById("dataset_DepartmentId");

            var dataset_RegisterId = document.getElementById("dataset_RegisterId");

            dataset_RegisterId.innerHTML = "";
            var ajax = new XMLHttpRequest();


            ajax.onreadystatechange = function () {

                if (ajax.readyState == 4) {

                    var jsn = JSON.parse(ajax.responseText);

                    for (var i = 0; i < jsn.length; i++) {

                        var option = document.createElement("option");

                        option.value = jsn[i].registerId;
                        option.text = jsn[i].registerFirstName+" "+jsn[i].registerLastName;

                        dataset_RegisterId.options.add(option);
                    }
                }

            }
            ajax.open("get", "/ajaxDatasetRegister?dataset_DepartmentId='" + dataset_DepartmentId.value + "'", true);

            ajax.send();


        }
    </script>


    </head>


    <body>
        {%include "admin/header.html" %}

        {%include "admin/menu.html" %}
        <!-- Begin page -->
        <div class=""></div>
        <div class="wrapper-page">
            <div class="panel panel-color panel-primary panel-pages">

                <div class="panel-body">
                    <h3 class="text-center m-t-0 m-b-15">
                        <a href="index.html" class="logo logo-admin"><img src="../../static/adminResources/images/logo_dark.png" height="28" alt="logo"></a>
                    </h3>
                    <h4 class="text-muted text-center m-t-0"><b>Add dataset</b></h4>

                    <form class="form-horizontal m-t-20" enctype="multipart/form-data" action="/insertDatasettest" method="POST">
                            <div class="form-group">
                                    <label>
                                        <select class="form-control" id="dataset_DepartmentId"
                                                name="RegisterDepartment" onchange="loadRegister()">
                                            <option value="Default" name="DatasetDepartment">Select Department
                                            </option>
                                            <!-- departmentDict stores the value of department searchDepartment() method -->
                                            {% for i in departmentDict %}
                                                <option value="{{ i.departmentId }}"
                                                        name="DatasetDepartment">{{ i.departmentName }}</option>
                                            {% endfor %}
                                        </select>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <select class="form-control" name="DatasetRegister" id="dataset_RegisterId">
                                            <!--<option value="Default" name="RegisterRole">Select Your Role
                                            </option>-->
                                            <!-- roleDict stores the value of department searchRole() method -->
                                            {#                                            <!--{% for i in roleDict %}#}
                                            {#                                                <option value="{{ i.roleId }}"#}
                                            {#                                                        name="RegisterRole">{{ i.roleName }}</option>#}
                                            {#                                            {% endfor %}-->#}

                                        </select>
                                    </label>
                                </div>



                        <div class="form-group">
                            <div class="col-xs-12">
                                <input class="form-control" type="file" required="" name="DatasetFile" placeholder="choose dataset">
                            </div>
                        </div>

                        <div class="form-group text-center m-t-40">
                            <div class="col-xs-12">
                                <button class="btn btn-primary btn-block btn-lg waves-effect waves-light" name="DatasetSubmit" type="submit">Add</button>
                            </div>
                        </div>

                    </form>
                </div>

            </div>
        </div>

        {%include "admin/footer.html" %}

        <!-- jQuery  -->
        <script src="../../static/adminResources/js/jquery.min.js"></script>
        <script src="../../static/adminResources/js/bootstrap.min.js"></script>
        <script src="../../static/adminResources/js/modernizr.min.js"></script>
        <script src="../../static/adminResources/js/detect.js"></script>
        <script src="../../static/adminResources/js/fastclick.js"></script>
        <script src="../../static/adminResources/js/jquery.slimscroll.js"></script>
        <script src="../../static/adminResources/js/jquery.blockUI.js"></script>
        <script src="../../static/adminResources/js/waves.js"></script>
        <script src="../../static/adminResources/js/wow.min.js"></script>
        <script src="../../static/adminResources/js/jquery.nicescroll.js"></script>
        <script src="../../static/adminResources/js/jquery.scrollTo.min.js"></script>

        <script src="../../static/adminResources/js/app.js"></script>

    </body>
</html>